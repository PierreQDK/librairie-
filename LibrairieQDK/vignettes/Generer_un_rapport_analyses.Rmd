---
title: "GÃ©nÃ©rer un rapport d'analyses"
author: "Pierre QUINTIN de KERCADIO"
format: html
vignette: >
  %\VignetteIndexEntry{GÃ©nÃ©rer un rapport d'analyses}
  %\VignetteEngine{quarto}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```
##Introduction

Le package LibrairieQDK permet dâ€™analyser les donnÃ©es des Ã©lus franÃ§ais Ã  travers plusieurs fonctions.

Cette vignette dÃ©taille lâ€™utilisation de trois fonctions  :

ğŸ“Œ summary_commune(): pour obtenir un rÃ©sumÃ© des Ã©lus dâ€™une commune.
ğŸ“Œ summary_departement(): pour analyser les Ã©lus dâ€™un dÃ©partement.
ğŸ“Œ generer_rapport(): pour gÃ©nÃ©rer un rapport HTML complet avec Quarto.



## Installation et Chargement du Package
```{r setup}
library(LibrairieQDK)
```


# RÃ©sumÃ© des Informations dâ€™une Commune

## Fonction summary_commune(df)

La fonction summary_commune() permet dâ€™obtenir un rÃ©sumÃ© des Ã©lus dâ€™une commune.

Elle affiche :

- Le nom de la commune
- Le nombre total dâ€™Ã©lus
- La distribution des Ã¢ges des Ã©lus (par quartiles)
- Lâ€™Ã©lu le plus Ã¢gÃ©


### Execution de summary_commune()
```{r}
# CrÃ©ation d'un exemple de jeu de donnÃ©es pour une commune
df_exemple_commune <- data.frame(
  LibellÃ©.de.la.commune = rep("Nantes", 5),
  Nom.de.l.Ã©lu = c("Jean Dupont", "Marie Curie", "Albert Camus", "Simone Veil", "Victor Hugo"),
  Date.de.naissance = as.Date(c("1960-05-15", "1975-08-20", "1982-03-10", "1950-11-25", "1990-07-01"))
)

# ExÃ©cution de la fonction
summary_commune(df_exemple_commune)

```

Le rÃ©sultat attendu dans la consolme est : 

$Commune
[1] "Nantes"

$Nombre_elus
[1] 5

$Distribution_age
   25%   50%   75%  100% 
  41.0  55.0  63.5  73.0 

$Elu_plus_age
$Elu_plus_age$Nom
[1] "Simone Veil"

$Elu_plus_age$Age
[1] 73


**InterprÃ©tation des rÃ©sultats :**
- La commune Ã©tudiÃ©e est Nantes.
- Il y a 5 Ã©lus dans cette commune.
- La mÃ©diane dâ€™Ã¢ge des Ã©lus est 55 ans.
- Lâ€™Ã©lu le plus Ã¢gÃ© est Simone Veil, Ã¢gÃ©e de 73 ans.


La fonction summary_commune() est par consÃ©quent un outil permettant dâ€™obtenir un rÃ©sumÃ© clair et dÃ©taillÃ© des Ã©lus dâ€™une commune.

Elle permet une analyse rapide et visuelle des caractÃ©ristiques principales de la population Ã©lue locale.



# RÃ©sumÃ© des Informations d'un dÃ©partement

## Fonction summary_departement(df)

La fonction summary_departement() offre une vue dâ€™ensemble des Ã©lus dâ€™un dÃ©partement.

Elle affiche :

- Le nom du dÃ©partement
- Le nombre total de communes
- La distribution des Ã¢ges des Ã©lus (par quartiles)
- Lâ€™Ã©lu le plus Ã¢gÃ© et lâ€™Ã©lu le plus jeune

### ExÃ©cution de summary_departement()

```{r}
# CrÃ©ation d'un jeu de donnÃ©es d'exemple
df_exemple_departement <- data.frame(
  LibellÃ©.du.dÃ©partement = rep("Loire-Atlantique", 10),
  LibellÃ©.de.la.commune = c("Nantes", "Saint-Nazaire", "RezÃ©", "Orvault", "Carquefou", 
                             "Pornic", "ChÃ¢teaubriant", "La Baule", "Savenay", "GuÃ©rande"),
  Nom.de.l.Ã©lu = c("Jean Dupont", "Marie Curie", "Albert Camus", "Simone Veil", 
                   "Victor Hugo", "MoliÃ¨re", "Pasteur", "Flaubert", "Balzac", "Rousseau"),
  Date.de.naissance = as.Date(c("1960-05-15", "1975-08-20", "1982-03-10", "1950-11-25",
                                "1990-07-01", "1988-02-12", "1945-06-30", "2000-10-05",
                                "1985-11-12", "1978-03-22"))
)

# ExÃ©cution de la fonction
summary_departement(df_exemple_departement)

```


Le rÃ©sultat attendu est : 

$Departement
[1] "Loire-Atlantique"

$Nombre_communes
[1] 10

$Distribution_age
   25%   50%   75%  100% 
  38.0  52.0  63.5  78.0 

$Elu_plus_age
$Elu_plus_age$Nom
[1] "Pasteur"

$Elu_plus_age$Age
[1] 78

$Elu_plus_jeune
$Elu_plus_jeune$Nom
[1] "Flaubert"

$Elu_plus_jeune$Age
[1] 23

**InterprÃ©tation :**

- Le dÃ©partement Ã©tudiÃ© est Loire-Atlantique.
- Il contient 10 communes diffÃ©rentes.
- Lâ€™Ã©lu le plus Ã¢gÃ© est Pasteur (78 ans).
- Lâ€™Ã©lu le plus jeune est Flaubert (23 ans).
- La mÃ©diane dâ€™Ã¢ge des Ã©lus est 52 ans.

La fonction summary_departement() est un outil permettant dâ€™analyser la rÃ©partition des Ã©lus dans un dÃ©partement.
Elle permet une analyse rapide et dÃ©taillÃ©e sur le nombre de communes reprÃ©sentÃ©es et la structure dÃ©mographique des Ã©lus.


# GÃ©nÃ©ration dâ€™un Rapport Quarto

## Fonction generer_rapport(commune, departement, output)

La fonction generer_rapport() permet de gÃ©nÃ©rer un rapport interactif en HTML avec Quarto.

Le rapport contiendra : 

- Un rÃ©sumÃ© des Ã©lus de la commune et du dÃ©partement.
- Des statistiques dÃ©taillÃ©es sur les Ã©lus.
- Des graphiques pour illustrer les rÃ©sultats.

Le fichier rapport_commune.html sera gÃ©nÃ©rÃ© et contiendra toutes les analyses.
